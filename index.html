<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Cats Gacha Rolls</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Battle Cats Gacha Rolls</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="seed">Seed:</label>
                <input type="number" id="seed" placeholder="Enter Seed" onchange="updateUrlParams(); resetAndGenerateTable();">
            </div>
            
            <div class="control-group" id="sim-control-wrapper" class="hidden">
                <label for="sim-config">Simulation Config:</label>
                <input type="text" id="sim-config" placeholder="e.g. 10 3G 10 (Rolls)" onchange="updateUrlParams(); resetAndGenerateTable();">
                <button onclick="clearSimConfig()">Clear Config</button>
            </div>

            <div class="mode-select">
                <label><input type="radio" name="appMode" value="display" checked onchange="onModeChange()"> 表示モード</label>
                <label><input type="radio" name="appMode" value="simulation" onchange="onModeChange()"> シミュレーションモード</label>
            </div>

            <div style="margin-top: 5px;">
                <button id="toggle-seed-btn" class="secondary" onclick="toggleSeedColumns()">SEEDを表示</button>
                <button id="toggle-result-btn" class="secondary" onclick="toggleResultDisplay()">計算過程を表示</button>
                <button id="toggle-description" class="secondary" onclick="toggleDescription()">概要を表示</button>
                </div>
        </div>

        <div id="description-content" class="description-box hidden">
            <p><strong>Seed:</strong> ガチャの初期シード値を入力してください。<br>
            <strong>Simulation Config:</strong> ガチャを回す手順を指定します。(例: 10 3G 5)<br>
            数値のみは単発、数値+Gは確定ガチャ(11連など)を示します。</p>
        </div>

        <div id="result" class="result-box hidden"></div>
        
        <div id="rolls-table-container"></div>
        
        <div id="schedule-container" class="hidden"></div>
    </div>

    <script src="cats.js"></script>
    <script src="gacha_series.js"></script>

    <script src="logic.js"></script>
    <script src="simulation.js"></script>
    <script src="schedule_logic.js"></script>

    <script src="data_loader.js"></script> <script src="ui_controller.js"></script> <script src="main.js"></script>
</body>
</html>